<!DOCTYPE html>

<html>
  <head>
    <title>Main</title>

    <!-- BOOTSTRAP LINKS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
      integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
      crossorigin="anonymous"
    />
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>

    <!-- FIREBASE LINKS -->
    <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/6.3.1/firebase-storage.js"></script>
  </head>

  <body class="h-100">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg bg-dark text-white">
      <div class="container-fluid">
        <ul class="nav navbar-nav">
          <!-- Navbar Logo -->
          <li class="active">
            <a
              class="navbar-brand"
              style="color: whitesmoke; text-decoration-style: wavy"
              href="#"
            >
              Blog App
            </a>
          </li>

          <!-- Navbar Links -->
          <li>
            <a
              class="nav-link"
              style="color: whitesmoke; text-decoration-style: wavy"
              onclick="switchView('home.html')"
            >
              <span style="color: white">Home</span>
            </a>
          </li>
          <li>
            <a
              class="nav-link"
              style="color: whitesmoke; text-decoration-style: wavy"
              onclick="switchView('myblogs.html')"
            >
              <span style="color: white">My Blogs</span>
            </a>
          </li>
        </ul>

        <!-- Dropdown Menu -->
        <div class="dropdown navbar-right">
          <button
            id="option-id"
            class="btn btn-light dropdown-toggle bg-dark text-white"
            type="button"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="false"
          >
            Options
          </button>

          <!-- Logout Button -->
          <div class="dropdown-menu" aria-labelledby="option-id">
            <a class="dropdown-item" id="btn-logout" href="#"> Logout </a>
          </div>
        </div>
      </div>
    </nav>

    <!-- Page Data -->
    <div class="row h-100 bg-light">
      <div class="col-lg-0 bg-secondary">
        <ul class="nav flex-column"></ul>
      </div>

      <div class="col-lg-12">
        <div class="container" id="container">
          <!-- Blog Post Area -->
          <div class="jumbotron bg-dark" style="margin-top: 15px">
            <div class="container text-center">
              <!-- New Blog Form -->
              <form action="" id="main-form">
                <!-- Blog Text Input -->
                <div class="form-group">
                  <textarea
                    type="text"
                    rows="5"
                    placeholder="Description......"
                    class="form-control"
                    id="main-desc"
                  ></textarea>
                </div>

                <!-- Upload Image -->
                <div class="form-group">
                  <input type="file" class="form-control" id="main-image" />
                  <div class="invalid-feedback">
                    Please Choose a Valid Image.
                  </div>
                </div>

                <!-- Display Selected Image -->
                <div class="form-group">
                  <img
                    id="selected-image"
                    width="250"
                    height="150"
                    src="#"
                    alt=""
                  />
                </div>

                <!-- Upload Progress Bar -->
                <div class="form-group">
                  <div class="progress bg-secondary">
                    <div
                      class="progress-bar bg-success"
                      id="upload-progress"
                      style="width: 0%"
                    >
                      0%
                    </div>
                  </div>

                  <!-- Publish Blog Button -->
                  <div class="form-group">
                    <button
                      id="save-blog"
                      type="button"
                      style="width: 150px; height: 60px; margin-top: 20px"
                      class="btn btn-light bg-light text-dark"
                    >
                      Publish
                    </button>
                  </div>
                </div>
              </form>

              <!-- Display Created Blog -->
              <div id="result"></div>
            </div>
          </div>
          <!-- Blog Post Area Ends -->

          <hr />
          <br /><br /><br />

          <!-- Display All Blogs -->
          <div class="text-center bg-light text-dark">
            <h3>All New Blogs</h3>
          </div>

          <hr />
          <br />

          <div class="row container-fluid bg-3">
            <div class="col-sm-12" id="blogs"></div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/index.js"></script>
    <script>
      firebase.auth().onAuthStateChanged(function (user) {
        if (!user) {
          window.location.href = "signin.html";
        }
      });
    </script>
  </body>
</html>
